:root{--bg-body: #f3f4f6;--bg-surface: rgba(255, 255, 255, .92);--bg-surface-soft: rgba(255, 255, 255, .85);--border-subtle: rgba(15, 23, 42, .06);--accent: #2563eb;--accent-search: #10b981;--accent-search-soft: rgba(16, 185, 129, .12);--accent-soft: rgba(37, 99, 235, .12);--accent-strong: #1d4ed8;--text-main: #111827;--text-muted: #6b7280;--success-bg: rgba(16, 185, 129, .1);--success-border: rgba(16, 185, 129, .6);--success-text: #047857;--warn-bg: rgba(245, 158, 11, .1);--warn-border: rgba(245, 158, 11, .6);--warn-text: #92400e;--radius-lg: 18px;--radius-pill: 999px;--shadow-soft: 0 18px 40px rgba(15, 23, 42, .15);--transition-fast: .15s ease-out}*,*:before,*:after{box-sizing:border-box}html,body,#root{margin:0;padding:0;height:100%}html{direction:rtl}body{font-family:simplerregular,Simpler Regular,sans-serif;background:radial-gradient(circle at top left,#fff 0,#e5e7eb 45%,#d1d5db 70%,#e5e7eb);color:var(--text-main);font-size:16px}.app-map-section{flex:1;min-height:60vh;display:flex;flex-direction:column;border-radius:var(--radius-lg);border:1px solid var(--border-subtle);background:#f9fafb;overflow:hidden;box-shadow:var(--shadow-soft)}.map-shell{flex:1;width:100%;min-height:0;position:relative}.map-canvas{position:absolute;top:0;right:0;bottom:0;left:0;width:100%;height:100%}.map-canvas>*{position:absolute!important;top:0!important;right:0!important;bottom:0!important;left:0!important;width:100%!important;height:100%!important}.toolbar-root{position:sticky;top:0;z-index:20;width:100%;display:flex;align-items:center;gap:16px;padding:14px 22px;background:var(--bg-surface);border-bottom:1px solid var(--border-subtle);-webkit-backdrop-filter:blur(18px);backdrop-filter:blur(18px);box-shadow:0 10px 25px #94a3b859}.toolbar-group{display:flex;align-items:center;gap:12px;padding-inline:12px;border-left:1px solid var(--border-subtle)}.toolbar-group:first-child{border-left:none;padding-right:0}.toolbar-brand{min-width:210px}.toolbar-measure{margin-right:auto}.toolbar-label{font-size:.85rem;color:var(--text-muted);font-weight:500}.toolbar-logo{font-weight:700;letter-spacing:.16em;font-size:.9rem;text-transform:uppercase;color:var(--text-main)}.toolbar-logo-img{height:48px;max-height:100%;width:auto;object-fit:contain;display:block}.topbar-root{padding:18px 24px;min-height:90px;display:flex;align-items:center;gap:16px;flex-wrap:nowrap}.topbar-search{flex:1;display:flex;justify-content:center;transition:max-width .18s ease,opacity .15s ease}.topbar-search--closed{display:none}.topbar-search--open{display:flex;flex:1 1 auto}.topbar-search-form{display:flex;align-items:center;gap:8px;padding:8px 12px;background:#fff;border-radius:12px;border:1px solid var(--border-subtle);box-shadow:0 10px 22px #0f172a1f;width:100%}.topbar-search-form input{flex:1;border:none;outline:none;background:transparent;font-size:.95rem;color:var(--text-main)}.topbar-search-icon{width:20px;height:20px;object-fit:contain;opacity:.7;filter:grayscale(1);flex-shrink:0}.topbar-search-clear{border:none;background:transparent;cursor:pointer;color:var(--text-muted);font-size:.9rem}.topbar-search-close{border:none;background:transparent;cursor:pointer;color:var(--text-muted);font-size:1rem;padding:4px 6px}.topbar-search-form--inline{width:min(440px,100%);box-shadow:0 10px 22px #0f172a1f;border-radius:14px;padding:8px 12px;flex:0 1 380px;order:-1;transition:width .16s ease,opacity .16s ease,max-width .16s ease;max-width:420px;height:44px;align-items:center;min-width:260px}.topbar-actions{margin-inline-start:auto;display:flex;align-items:center;gap:12px;border-left:1px solid var(--border-subtle);padding-inline:14px;flex-wrap:nowrap;flex:0 1 auto;justify-content:flex-end;min-width:0}.topbar-icon{width:44px;height:44px;border-radius:999px;border:none;background:transparent;display:flex;align-items:center;justify-content:center;cursor:pointer;transition:color .14s ease-out,transform .12s ease-out,filter .14s ease-out,opacity .14s ease-out}.topbar-icon img{width:34px;height:34px;object-fit:contain;filter:grayscale(1);opacity:.7;transition:filter .14s ease-out,opacity .14s ease-out,transform .12s ease-out}.topbar-icon:hover{color:var(--accent);transform:translateY(-1px);filter:grayscale(0);opacity:.9}.topbar-icon:hover img,.topbar-icon--active img{filter:grayscale(0);opacity:1}.status-pill{font-size:.8rem;padding:6px 12px;border-radius:var(--radius-pill);border:1px solid var(--border-subtle);white-space:nowrap}.status-ok{background:var(--success-bg);border-color:var(--success-border);color:var(--success-text)}.status-wait{background:var(--warn-bg);border-color:var(--warn-border);color:var(--warn-text)}.toolbar-search{display:flex;gap:6px;align-items:center}.toolbar-search input{width:260px;border-radius:var(--radius-pill);border:1px solid var(--border-subtle);background:var(--bg-surface-soft);color:var(--text-main);font-size:.9rem;padding:9px 14px;outline:none;transition:border-color var(--transition-fast),box-shadow var(--transition-fast),background var(--transition-fast)}.toolbar-search input::placeholder{color:#94a3b8e6}.toolbar-search input:focus{border-color:#2563ebb3;box-shadow:0 0 0 1px #818cf859;background:#fff}.toolbar-buttons-inline{display:flex;gap:10px;align-items:center}.btn{border-radius:var(--radius-pill);border:1px solid var(--border-subtle);background:#fff;color:var(--text-main);font-size:.9rem;padding:9px 14px;cursor:pointer;white-space:nowrap;display:inline-flex;align-items:center;justify-content:center;gap:4px;transition:background var(--transition-fast),border-color var(--transition-fast),transform var(--transition-fast),box-shadow var(--transition-fast),color var(--transition-fast)}.btn.primary{background:linear-gradient(135deg,var(--accent),var(--accent-strong));border-color:#2563ebe6;color:#f9fafb;box-shadow:0 10px 25px #2563eb73}.btn:hover:not(:disabled){transform:translateY(-1px);background:#f3f4f6;border-color:#94a3b8b3;box-shadow:0 8px 20px #94a3b866}.btn.primary:hover:not(:disabled){background:linear-gradient(135deg,var(--accent-strong),#1e40af)}.btn.primary-soft{background:linear-gradient(135deg,#e8eeff,#dfe7ff);border-color:#2563eb59;color:#1e3a8a;box-shadow:0 8px 18px #2563eb2e}.btn.primary-soft:hover:not(:disabled){background:linear-gradient(135deg,#dce5ff,#ccd9ff);color:#1d4ed8;box-shadow:0 10px 22px #2563eb38}.btn:disabled{opacity:.45;cursor:default;box-shadow:none}.toolbar-layers{display:flex;gap:6px;flex-wrap:wrap;max-width:320px}.layer-chip{display:inline-flex;align-items:center;gap:4px;padding:4px 9px;border-radius:var(--radius-pill);border:1px solid var(--border-subtle);background:#ffffffe6;font-size:.75rem;color:var(--text-muted);cursor:pointer;transition:background var(--transition-fast),border-color var(--transition-fast),box-shadow var(--transition-fast),color var(--transition-fast)}.layer-chip input{accent-color:var(--accent)}.layer-chip:hover{background:var(--accent-soft);border-color:#2563eb66;color:var(--text-main)}.toolbar-root{padding:20px 28px!important;gap:32px!important;min-height:90px!important}.toolbar-group{gap:20px!important;padding-inline:20px!important}.btn{padding:12px 22px!important;font-size:1rem!important}.btn.primary{padding:12px 24px!important;font-size:1rem!important}.toolbar-search input{width:320px!important;font-size:1rem!important;padding:12px 18px!important}.toolbar-label{font-size:1rem!important}.toolbar-logo{font-size:1.1rem!important}.status-pill{padding:8px 18px!important;font-size:.9rem!important}.layer-chip{padding:8px 16px!important;font-size:.9rem!important}.app-shell--ai-open .app-main{padding-bottom:96px}.app-shell--ai-open .app-map-section{transform:translateY(-12px) scale(.985);transition:transform .2s ease-out,box-shadow .2s ease-out;box-shadow:0 24px 60px #0f172a2e}.app-map-section{transition:transform .2s ease-out,box-shadow .2s ease-out}.ai-command-shell{position:fixed;bottom:clamp(16px,3vw,28px);right:clamp(16px,3vw,28px);z-index:1400;display:flex;justify-content:flex-end;align-items:center;gap:10px;pointer-events:none}.ai-command-shell .ai-orb{pointer-events:auto}.ai-command{display:flex;align-items:center;gap:10px;border-radius:999px;background:#fffffffa;box-shadow:0 18px 40px #0f172a40;border:1px solid rgba(148,163,184,.35);overflow:hidden;transition:width .2s ease-out,padding .2s ease-out,box-shadow .2s ease-out,background .2s ease-out}.ai-orb-fab{position:static;bottom:auto;right:auto;z-index:1}.ai-orb{position:relative;border:none;outline:none;cursor:pointer;width:80px;height:80px;border-radius:1000px;background:radial-gradient(circle at 32% 24%,#fff 0,#f7f9ff 38%,#e7edff 62%,#d4e0ff 85%),#fff;display:flex;align-items:center;justify-content:center;padding:0;overflow:hidden;box-shadow:0 14px 32px #2563eb47,0 8px 20px #0f172a2e;transition:transform .15s ease-out,box-shadow .15s ease-out,filter .15s ease-out;-webkit-backdrop-filter:blur(6px);backdrop-filter:blur(6px)}.ai-orb:hover{transform:translateY(-2px) scale(1.02);box-shadow:0 18px 36px #2563eb52,0 10px 24px #0f172a33}.ai-orb:focus-visible{outline:2px solid rgba(37,99,235,.45);outline-offset:4px}.ai-orb-glow{position:absolute;top:0;right:0;bottom:0;left:0;background:radial-gradient(circle at 22% 12%,#fffffff5,#ffffff38 52%);opacity:.9}.ai-orb-core{position:relative;font-size:.85rem;font-weight:700;letter-spacing:.08em;color:#111827}.ai-command-bar{position:fixed;left:0;right:0;bottom:0;z-index:1400;padding:10px 16px 16px;background:linear-gradient(to top,#fffffffa,#ffffffeb,#fff0);-webkit-backdrop-filter:blur(18px);backdrop-filter:blur(18px)}.ai-command-bar-inner{max-width:1100px;margin:0 auto;display:flex;align-items:center;gap:10px;border-radius:999px;padding:8px 12px 8px 16px;background:#fff;border:1px solid rgba(148,163,184,.35);box-shadow:0 16px 40px #0f172a40}.ai-command-bar-inner .ai-orb{width:56px;height:56px;box-shadow:none}.ai-orb-icon{width:54px;height:54px;border-radius:50%;object-fit:cover;background:transparent;mix-blend-mode:multiply;position:relative;z-index:1}.ai-command-input{flex:1;border:none;outline:none;background:transparent;font-size:.95rem;color:var(--text-main);padding:4px 8px}.ai-command-input::placeholder{color:#94a3b8e6}.ai-command-actions{display:flex;align-items:center;gap:6px}.ai-send-btn{padding-inline:16px}.ai-close-btn{border:none;background:transparent;color:var(--text-muted);font-size:1.2rem;cursor:pointer;padding:4px;display:inline-flex;align-items:center;justify-content:center;border-radius:999px;transition:background .15s ease-out,color .15s ease-out,transform .12s ease-out}.ai-close-btn:hover{background:#94a3b82e;color:#374151;transform:translateY(-1px)}.left-dock{position:fixed;top:50%;left:24px;transform:translateY(-50%);z-index:1100;display:flex;flex-direction:column;gap:10px;padding:10px 8px;border-radius:999px;background:#ffffffeb;box-shadow:0 14px 30px #0f172a33;border:1px solid rgba(148,163,184,.28)}.dock-icon{width:42px;height:42px;border-radius:999px;border:none;background:#f9fafb;display:flex;align-items:center;justify-content:center;cursor:pointer;transition:background .15s ease-out,transform .12s ease-out,box-shadow .15s ease-out}.dock-icon:hover{background:#e5edff;transform:translateY(-1px);box-shadow:0 8px 18px #94a3b866}.dock-icon--active{background:#e0ebff;box-shadow:0 10px 24px #2563eb59}.dock-icon-glyph{font-size:1.1rem}.search-overlay{position:fixed;top:26px;left:88px;right:24px;z-index:1150;pointer-events:none}.search-bar{max-width:520px;pointer-events:auto;display:flex;align-items:center;gap:8px;padding:8px 14px;border-radius:999px;background:#fff;border:1px solid rgba(148,163,184,.5);box-shadow:0 16px 30px #0f172a47}.search-bar-icon{font-size:1.1rem}.search-bar input{flex:1;border:none;outline:none;font-size:.95rem;background:transparent;color:var(--text-main)}.search-bar input::placeholder{color:#94a3b8e6}.search-clear,.search-dismiss{border:none;background:transparent;cursor:pointer;font-size:.85rem;color:var(--text-muted);padding:4px 6px}.search-clear:hover,.search-dismiss:hover{color:#374151}.search-submit{padding-inline:16px}.side-panel{width:100%;height:100%;display:flex;flex-direction:column;gap:8px;background:#f9fafb;border:1px solid var(--border-subtle);border-radius:var(--radius-lg);overflow:hidden;padding:12px;clip-path:inset(0 0 0 0)}.side-panel-header{padding:12px 14px 10px;display:flex;align-items:center;justify-content:space-between;gap:10px;border-bottom:1px solid rgba(229,231,235,.8);background:transparent}.side-panel-header-actions{display:flex;align-items:center;gap:6px;align-self:flex-start;margin-top:-10px}.side-panel-body{margin-top:0;padding:14px 16px 16px;flex:1;min-height:0;overflow:auto;background:transparent}.side-panel-list>li+li{margin-top:16px}.side-panel-section{margin-bottom:16px}.side-panel-section-title{margin:0 0 6px;font-size:.85rem;color:var(--text-muted)}.side-panel-list{list-style:none;padding:0;margin:0}.layer-row-shell{position:relative;margin-bottom:12px}.topbar-search-form{gap:12px;padding:10px 12px;border-radius:16px}.topbar-search-form--inline{width:min(720px,100%);max-width:680px;flex:0 1 640px;height:52px;gap:12px;padding:8px 10px;align-items:stretch}.topbar-search-shell{position:relative;width:min(720px,100%)}.topbar-search-field{flex:1;display:flex;align-items:center;gap:10px;padding:8px 12px;background:linear-gradient(135deg,#f9fafb,#f5f7fb);border:1px solid rgba(148,163,184,.55);border-radius:12px;box-shadow:inset 0 1px #fff9;transition:border-color .14s ease,box-shadow .18s ease,background .16s ease,transform .14s ease}.topbar-search-field--active{border-color:#10b9818c;box-shadow:0 10px 28px #10b98129,inset 0 1px #ffffffb3;background:linear-gradient(120deg,#f7fafc,#eefaf4);transform:translateY(-1px)}.topbar-search-field--loading{opacity:.92}.topbar-search-field input{flex:1;border:none;outline:none;background:transparent;font-size:1rem}.topbar-search-icon{width:18px;height:18px;opacity:.7}.topbar-search-spinner{width:14px;height:14px;border-radius:999px;border:2px solid rgba(148,163,184,.6);border-top-color:var(--accent-search);animation:spin .6s linear infinite}.topbar-search-clear{color:var(--text-muted);padding:0 4px}.topbar-search-submit{height:100%;padding-inline:18px;border-radius:12px;background:linear-gradient(135deg,var(--accent-search),#0ea5e9);border-color:#10b98199;box-shadow:0 12px 24px #10b98147}.topbar-search-close{align-self:center}.topbar-search-suggestions{position:absolute;inset-inline:0;top:calc(100% + 8px);background:#fff;border:1px solid rgba(148,163,184,.35);border-radius:14px;box-shadow:0 16px 36px #0f172a2e;overflow:hidden;z-index:25;max-height:320px;overflow-y:auto}.topbar-suggestion-row{width:100%;border:none;background:transparent;padding:12px 14px;display:flex;align-items:center;justify-content:space-between;gap:12px;cursor:pointer;transition:background .14s ease,transform .12s ease}.topbar-suggestion-row:hover{background:#f8fafc;transform:translateY(-1px)}.topbar-suggestion-main{display:flex;flex-direction:column;align-items:flex-start;gap:4px}.topbar-suggestion-title{font-weight:600;color:var(--text-main)}.topbar-suggestion-sub{color:var(--text-muted);font-size:.9rem}.topbar-suggestion-meta{border-radius:999px;background:var(--accent-search-soft);color:#047857;padding:4px 10px;font-size:.85rem;font-weight:600}@keyframes spin{to{transform:rotate(360deg)}}.app-shell{height:100vh}.app-main{min-height:0}.side-panel-card{align-self:stretch;overflow:hidden}.side-panel{height:100%}.side-panel-body{flex:1;min-height:0;overflow:auto}.layer-options-body,.layer-filter{flex:1;min-height:0}.layer-filter__body{position:relative;flex:1;min-height:0;display:flex;flex-direction:column}.layer-filter__list-shell{height:100%;flex:1;min-height:0}.layer-filter__list{height:100%;max-height:none;overflow-y:auto;padding-right:4px}.layer-filter--detail .layer-filter__header--detail{display:flex;align-items:flex-start;gap:12px;padding:6px 2px 10px}.layer-filter__header{display:flex;align-items:center;justify-content:space-between;gap:12px;flex-wrap:wrap}.layer-filter__header-text h3{margin:4px 0 0}.filter-detail__subtitle{margin:4px 0 0;color:var(--text-muted)}.layer-filter__detail--fullpage{background:#fff;border-radius:14px;border:1px solid rgba(229,231,235,.9);box-shadow:0 16px 32px #0f172a29;overflow-y:auto;padding:12px;flex:1;min-height:0}.layer-filter__actions--detail{justify-content:flex-end;gap:10px;margin-top:14px;padding-top:12px}.filter-apply-btn{padding-inline:18px}.filter-apply-btn.btn.primary-soft{box-shadow:none!important;background:#eef2ff;border-color:#2563eb47;color:#1e3a8a}.filter-apply-btn.btn.primary-soft:hover:not(:disabled){box-shadow:none!important;background:#e2e8ff;border-color:#2563eb5c}.filter-detail__actions .btn.primary-soft{box-shadow:none!important;background:#eef2ff;border-color:#2563eb47;color:#1e3a8a}.filter-detail__actions .btn.primary-soft:hover:not(:disabled){box-shadow:none!important;background:#e2e8ff;border-color:#2563eb5c}.layer-analysis__controls .btn.primary-soft,.layer-analysis__controls .btn.primary-soft:hover{box-shadow:none}.layer-row-menu-icon{width:16px;height:16px;object-fit:contain;display:block}.layer-options-panel{padding:0!important}.layer-options-header h2{margin:4px 0}.layer-options-title{display:flex;align-items:center;gap:8px}.layer-options-icon{font-size:1.4rem;display:inline-flex;align-items:center}.layer-options-icon img{width:26px;height:26px;object-fit:contain;display:block}.layer-options-eyebrow{font-size:.8rem;color:var(--text-muted);letter-spacing:.04em}.layer-options-tabs{display:grid;grid-template-columns:repeat(4,minmax(0,1fr));gap:6px;padding:8px 12px 0}.layer-options-tab{border:1px solid rgba(229,231,235,.9);background:#fff;border-radius:12px;padding:10px 8px;font-size:.9rem;cursor:pointer;transition:background .14s ease-out,border-color .14s ease-out,transform .12s ease-out}.layer-options-tab--active{border-color:#2563eb4d;box-shadow:0 6px 14px #2563eb1f;background:linear-gradient(135deg,#f3f6ff,#fff);transform:translateY(-1px)}.layer-options-body{display:flex;flex-direction:column;gap:14px;min-height:0}.layer-about__desc{margin:0 0 10px;color:var(--text-main)}.layer-about__meta{display:flex;gap:12px;background:#f8fafc;border:1px solid rgba(229,231,235,.9);padding:10px 12px;border-radius:12px}.layer-meta__label{font-size:.8rem;color:var(--text-muted)}.layer-meta__value{font-weight:600}.layer-opacity__header{display:flex;justify-content:space-between;align-items:center}.layer-opacity__value{min-width:60px;text-align:center;padding:8px 10px;border-radius:12px;background:#eef2ff;color:#1d4ed8;font-weight:700}.layer-opacity__slider{width:100%;accent-color:var(--accent)}.layer-analysis__controls{display:flex;gap:8px;flex-wrap:wrap}.layer-analysis__wkt{width:100%;border-radius:12px;border:1px solid rgba(229,231,235,.9);padding:10px 12px;background:#f8fafc;font-family:ui-monospace,SFMono-Regular,Consolas,Liberation Mono,Menlo,monospace;resize:vertical}.layer-analysis__hint{margin:6px 0 0;font-size:.85rem;color:var(--text-muted)}.layer-analysis__error{color:var(--warn-text);margin:6px 0 0;font-size:.95rem}.layer-filter{display:flex;flex-direction:column;min-height:0}.layer-filter__body{display:flex;flex-direction:column;gap:10px;flex:1;min-height:0}.layer-filter__list{display:grid;grid-template-columns:1fr;gap:10px;flex:1;min-height:0;overflow-y:auto;padding-right:4px;max-height:clamp(260px,55vh,540px)}.filter-tile{text-align:right;border:1px solid rgba(229,231,235,.9);border-radius:12px;padding:12px;background:#fff;cursor:pointer;transition:background .14s ease-out,border-color .14s ease-out,transform .12s ease-out,box-shadow .14s ease-out}.filter-tile:hover{background:#f8fafc}.filter-tile--active{border-color:#2563eb99;box-shadow:0 10px 24px #2563eb29}.filter-tile--ghost{border-style:dashed;border-color:#94a3b880;color:var(--text-muted)}.filter-tile__eyebrow{font-size:.8rem;color:var(--text-muted)}.filter-tile__title{font-weight:700;margin:4px 0}.filter-tile__summary{font-size:.9rem;color:var(--text-muted);display:flex;flex-direction:column;gap:6px}.filter-tile__summary--set{color:var(--text-main)}.filter-tile__chips{display:flex;gap:6px;flex-wrap:wrap}.filter-tile__chip{display:inline-flex;align-items:center;gap:6px;padding:6px 10px;border-radius:10px;border:1px solid rgba(37,99,235,.25);background:#eef2ff;color:#1d4ed8;font-size:.85rem;cursor:pointer}.filter-tile__chip-x{font-weight:700}.filter-tile__chip--add{border-style:dashed;background:#fff}.layer-filter__detail{background:#fff;border:1px solid rgba(229,231,235,.9);border-radius:14px;padding:12px;box-shadow:0 10px 22px #0f172a14}.layer-filter__detail--full{margin-top:10px;flex:1;min-height:0}.filter-detail-card{display:flex;flex-direction:column;gap:10px}.filter-detail__header{display:flex;align-items:center;justify-content:space-between}.filter-detail__header-actions{display:flex;align-items:center;gap:6px}.filter-detail__title{font-size:1.1rem;font-weight:700}.filter-detail__row{display:flex;flex-direction:column;gap:4px}.filter-detail__row label{font-size:.85rem;color:var(--text-muted)}.filter-detail__row select,.filter-detail__row input{width:100%;border-radius:10px;border:1px solid rgba(229,231,235,.9);padding:9px 10px;background:#fff}.filter-detail__actions{display:flex;justify-content:space-between;gap:8px;margin-top:8px}.filter-detail__chips{display:flex;flex-wrap:wrap;gap:6px;margin:10px 0}.filter-detail__chip{display:inline-flex;align-items:center;gap:6px;padding:6px 10px;border-radius:10px;border:1px solid rgba(37,99,235,.25);background:#eef2ff;color:#1d4ed8;font-size:.9rem;cursor:pointer}.filter-detail__chip--active{border-color:#2563eb80;background:#e0e7ff}.filter-detail__chip--add{border-style:dashed;background:#fff}.filter-detail__chip-x{font-weight:700}.layer-filter__footer{margin-top:10px;display:flex;flex-direction:column;gap:10px}.layer-filter__active-summary{display:flex;justify-content:space-between;align-items:center;gap:8px;padding:10px 12px;border-radius:12px;border:1px solid rgba(229,231,235,.9);background:#f8fafc}.layer-filter__actions{display:flex;gap:8px;justify-content:flex-start;margin-top:14px;padding-top:12px;flex-wrap:wrap;align-items:center}.btn.ghost{border:1px solid rgba(148,163,184,.5);background:#fff;color:#1f2937}.btn.ghost:hover:not(:disabled){background:#f3f4f6;border-color:#94a3b8cc}.side-panel-row--active{background:#fff;box-shadow:0 6px 14px #2563eb1f;border-color:#2563eb66}.side-panel-row-icon{flex:0 0 28px;font-size:1.2rem}.side-panel-row-icon img,.panel-icon-img{width:32px;height:32px;object-fit:contain;display:block}.side-panel-row-label{font-size:.95rem;font-weight:600}.side-panel-row-desc{font-size:.8rem;color:var(--text-muted)}.side-panel-row-toggle{flex:0 0 auto}.toggle-dot{width:16px;height:16px;border-radius:999px;border:2px solid rgba(148,163,184,.6);background:transparent}.toggle-dot--on{border-color:#2563ebe6;background:#2563ebe6}.layer-row-shell{display:flex;align-items:stretch;gap:8px;margin-bottom:12px}.layer-row-actions{flex:0 0 auto;display:flex;align-items:center;gap:4px;direction:ltr;padding:4px 6px;border-radius:10px;background:#fff;box-shadow:0 8px 18px #0f172a1a}.layer-row-menu-btn{width:22px;height:22px;border-radius:50%;border:none;background:transparent;color:#9ca3af;cursor:pointer;display:inline-flex;align-items:center;justify-content:center;font-size:1.05rem;transition:transform .12s ease-out,box-shadow .15s ease-out,border-color .14s ease-out}.layer-row-menu-btn:hover{transform:translateY(-1px);color:#374151}.side-panel-row{flex:1 1 auto}.layer-row-brand{margin-inline-start:8px;padding:4px 8px;border-radius:999px;background:linear-gradient(135deg,#2563eb,#1d4ed8);color:#f8fafc;font-size:.75rem;font-weight:700;letter-spacing:.03em}.icon-btn,.side-panel-close,.chat-panel__close,.panel-back-btn{border:none!important;background:transparent!important;cursor:pointer!important;color:#6b7280!important;border-radius:50%!important;padding:8px!important;width:36px!important;height:36px!important;display:inline-flex!important;align-items:center!important;justify-content:center!important;transition:color .14s ease,background .14s ease,transform .12s ease!important;align-self:flex-start}.icon-btn svg{width:18px;height:18px}.icon-btn:hover,.side-panel-close:hover,.chat-panel__close:hover,.panel-back-btn:hover{color:#111827!important;background:#e5e7eb!important;transform:translateY(-1px)}.chat-panel__header{padding:14px 16px;border-bottom:1px solid rgba(229,231,235,.9);background:#fff}.chat-panel__body{flex:1;padding:18px 16px;display:flex;flex-direction:column;gap:12px;overflow-y:auto;background:linear-gradient(180deg,#fbfdff,#f5f7fb)}.chat-bubble{max-width:92%;border-radius:16px;padding:12px 14px;font-size:.95rem;line-height:1.5;box-shadow:0 10px 22px #0f172a24;border:1px solid rgba(229,231,235,.7)}.chat-bubble--user{align-self:flex-end;background:linear-gradient(135deg,#2563eb,#1d4ed8);color:#f8fafc;border-color:transparent}.chat-bubble--assistant{align-self:flex-start;background:#fff;color:var(--text-main);border:1px solid rgba(229,231,235,.7)}.chat-panel__input-row{display:flex;gap:10px;padding:12px 14px;border-top:1px solid rgba(229,231,235,.9);background:#fff}.chat-panel__input-row input{flex:1;border-radius:14px;border:1px solid rgba(229,231,235,.9);padding:12px 14px;font-size:.95rem;background:#f8fafc}.chat-panel__input-row .btn{border-radius:14px}.chat-panel__logo{width:36px;height:36px;border-radius:50%;object-fit:cover}.app-main{direction:ltr!important}.app-map-section{direction:rtl!important}.toolbar-logo-img{height:53px!important;width:auto!important;object-fit:contain!important}.side-panel-card{flex:0 0 0!important;max-width:0!important;opacity:0;pointer-events:none;transform:translate(110%);transition:flex-basis .22s ease,max-width .22s ease,opacity .18s ease,transform .22s ease;display:flex}.side-panel-card--open{flex:0 0 360px!important;max-width:360px!important;opacity:1;pointer-events:auto;transform:translate(0)}.side-panel-card--open .side-panel{animation:side-panel-wipe .26s ease-out;transform-origin:right center}.side-panel{background:#fff!important;border:1px solid rgba(229,231,235,.9)!important;border-radius:var(--radius-lg)!important;padding:8px!important;direction:rtl!important;clip-path:inset(0 0 0 0)}.side-panel-row{border:1px solid rgba(229,231,235,.9)!important;background:#fff!important;padding:12px!important;direction:rtl!important}.side-panel-row:hover{background:#f1f5f9!important;box-shadow:none!important;border-color:#e5e7ebe6!important;transform:none!important}.side-panel-row--active,.side-panel-row--active:hover{background:#fff!important;box-shadow:0 6px 14px #2563eb1f!important;border-color:#2563eb66!important}.side-panel-row-label{font-size:.95rem!important;font-weight:600!important;text-align:right!important}.side-panel-row-desc{font-size:.8rem!important;text-align:right!important}@keyframes side-panel-wipe{0%{clip-path:inset(0 0 0 100%);opacity:0}to{clip-path:inset(0 0 0 0);opacity:1}}.app-shell{display:flex;flex-direction:column;min-height:100vh}.app-main{flex:1;display:flex;flex-direction:row;gap:16px;padding:12px 16px 16px;align-items:stretch}.app-map-section{flex:1 1 auto;min-height:60vh;display:flex;flex-direction:column;border-radius:var(--radius-lg);border:1px solid var(--border-subtle);background:#f9fafb;overflow:hidden;box-shadow:var(--shadow-soft)}.app-main--with-panel .app-map-section{flex:1 1 auto}.topbar-icon{width:44px;height:44px}.topbar-icon img{width:34px;height:34px;object-fit:contain}.toolbar-logo-img{height:48px;width:auto;border-radius:0;object-fit:contain}.ai-orb img{width:54px;height:54px;border-radius:50%;object-fit:cover;background:transparent;mix-blend-mode:multiply;position:relative;z-index:1}.chat-panel__logo{width:32px;height:32px;border-radius:50%;object-fit:cover}.layer-row-shell{margin-bottom:12px}.side-panel-row{width:100%;border:1px solid rgba(229,231,235,.9);background:#fff;display:flex;align-items:center;gap:8px;padding:12px;border-radius:12px;cursor:pointer;transition:background .14s ease-out,transform .12s ease-out,box-shadow .14s ease-out,border-color .14s ease-out}.side-panel-row:hover{background:#f1f5f9;transform:none;box-shadow:none;border-color:#e5e7ebe6}.side-panel-row--active:hover{background:#fff;box-shadow:0 6px 14px #2563eb1f;border-color:#2563eb66}.side-panel-row-main{flex:1;display:flex;flex-direction:column;align-items:flex-start;gap:2px}.layer-row-actions{display:flex;align-items:center;gap:4px;flex-shrink:0}.layer-row-menu-btn{width:24px;height:24px;border-radius:50%;border:none;background:transparent;color:#9ca3af;cursor:pointer;display:inline-flex;align-items:center;justify-content:center;font-size:1.1rem;padding:0;line-height:1;transition:transform .12s ease-out,color .14s ease-out,background .14s ease-out}.layer-row-menu-btn:hover{transform:translateY(-1px);color:#374151;background:#94a3b81f}
